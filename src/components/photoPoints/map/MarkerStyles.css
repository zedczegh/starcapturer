/* Base marker styling for all custom markers */
.custom-marker {
  transition: transform 0.15s ease, filter 0.2s ease;
}

/* Special styling for hovered markers */
.custom-marker.hovered {
  z-index: 1000 !important;
  filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.6));
  transform: scale(1.3);
}

/* Specific styling for marker types */
.star-marker svg {
  filter: drop-shadow(0 0 2px rgba(255, 215, 0, 0.8));
  transition: filter 0.3s ease;
}

.star-marker.hovered svg {
  filter: drop-shadow(0 0 6px rgba(255, 215, 0, 0.9));
}

/* Specific styling for user location marker */
.user-location-marker svg {
  filter: drop-shadow(0 0 3px rgba(225, 29, 72, 0.7));
}

.user-location-marker.hovered svg,
.pulsing-marker svg {
  filter: drop-shadow(0 0 8px rgba(225, 29, 72, 0.8));
}

/* Circle marker enhancement */
.circle-marker svg {
  filter: drop-shadow(0 0 2px rgba(74, 222, 128, 0.6));
  transition: all 0.2s ease;
}

.circle-marker.hovered svg {
  filter: drop-shadow(0 0 6px rgba(74, 222, 128, 0.8));
}

/* Pulse animations for markers */
@keyframes pulse {
  0% {
    opacity: 0.8;
    transform: scale(0.6);
  }
  50% {
    opacity: 0.4;
  }
  100% {
    opacity: 0;
    transform: scale(1.5);
  }
}

@keyframes inner-pulse {
  0% {
    opacity: 0.3;
    transform: scale(0.8);
  }
  50% {
    opacity: 0.7;
  }
  100% {
    opacity: 0.3;
    transform: scale(0.8);
  }
}

.pulse-circle {
  animation: pulse 2s infinite;
  transform-origin: center;
  transform-box: fill-box;
}

.pulse-inner-circle {
  animation: inner-pulse 1.5s infinite;
  transform-origin: center;
  transform-box: fill-box;
}

/* Enhanced popup styling */
.leaflet-popup-custom {
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  min-width: 180px;
}

.custom-popup .leaflet-popup-content-wrapper {
  background: transparent;
  box-shadow: none;
  border-radius: 10px;
}

.custom-popup .leaflet-popup-content {
  margin: 0;
  width: auto !important;
}

.custom-popup .leaflet-popup-tip {
  background: rgba(30, 41, 59, 0.85);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.marker-popup-gradient {
  background: linear-gradient(to bottom, rgba(30, 41, 59, 0.95), rgba(15, 23, 42, 0.95));
  color: #f1f5f9;
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Color classes for different SIQS ranges */
.siqs-excellent {
  border-left: 3px solid #4ade80;
}

.siqs-good {
  border-left: 3px solid #facc15;
}

.siqs-poor {
  border-left: 3px solid #f87171;
}

.location-radius-circle {
  animation: pulse-opacity 2s infinite ease-in-out;
}

@keyframes pulse-opacity {
  0% {
    opacity: 0.1;
  }
  50% {
    opacity: 0.2;
  }
  100% {
    opacity: 0.1;
  }
}

/* Enhanced marker hover effect */
.leaflet-marker-icon.hovered {
  filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.7));
  transform: scale(1.1) !important;
  transition: all 0.2s ease-in-out;
  z-index: 1000 !important;
}
